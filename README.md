# Плагін EmboSettings

**EmboSettings** — це розширення для [FSE теми EmboTheme](https://github.com/bogdan2143/embo-theme), що додає додаткові можливості кастомізації та інтегрується з редактором Gutenberg.

## Основні можливості

- **Кольорова палітра** – керування кольорами теми та синхронізація з налаштуваннями Gutenberg.
- **Брендинг** – завантаження логотипу, генерація favicon і відображення примітки у футері за допомогою шорткоду.
- **Візуальні правки адмінки** – спрощення меню та корисні метабокси.
- **Вкладка навігації** – таблиця змісту для записів та term meta для ввімкнення по категоріях.
- **Cookies та аналітика** – банер згоди на використання cookies та вставка коду Google Analytics.
- **Custom CSS** – поле для імпортів і власного CSS з вибором між AJAX-підвантаженням та пагінацією.

## Архітектура плагіна

Плагін побудовано за принципами ООП з єдиним центром підключення. Головний файл `embo-settings.php` створює екземпляр класу `EmboSettings_Plugin`, який завантажує всі модулі з каталогу `inc/` і реєструє їхні хуки. Такий підхід забезпечує чітке розділення відповідальностей і передбачуване завантаження.

Кожен модуль реалізує окрему задачу:

- `Colors_Tab` – робота з кольорами теми.
- `Branding_Tab` – логотип, favicon і футерна примітка.
- `Navigation_Tab` – генерація навігації за заголовками.
- `Cookie_Analytics_Tab` – банер cookies і код аналітики.
- `Custom_CSS_Tab` – імпорти та власний CSS.
- `Settings_Page` – об'єднує вкладки на сторінці налаштувань.

У верстці дотримується підхід БЕМ, що забезпечує сумісність із темою.

## Якість коду

Код перевірено на відсутність небезпечних функцій (`eval`, shell-виклики тощо). Усі рядки інтерфейсу локалізовані, а функціонал розділено на класи для простоти підтримки.

## Локалізація

У каталозі `languages/` міститься файл `embo-settings-uk_UA.po.md` з усіма рядками перекладу українською. Для створення `.po` та `.mo` запустіть скрипт `build-lang.sh`:

```bash
bash languages/build-lang.sh
```

Скрипт копіює `*.po.md` у файли `.po` та компілює `.mo` за допомогою `msgfmt`.
